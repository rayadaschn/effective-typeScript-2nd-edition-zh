import{_ as i,c as a,o as n,ag as h}from"./chunks/framework.D53w8jfx.js";const o=JSON.parse('{"title":"Item 63: Use Optional Never Properties to Model Exclusive Or","description":"","frontmatter":{},"headers":[],"relativePath":"ch-recipes/optional-never.md","filePath":"ch-recipes/optional-never.md"}'),t={name:"ch-recipes/optional-never.md"};function p(l,s,k,e,r,g){return n(),a("div",null,s[0]||(s[0]=[h(`<h1 id="item-63-use-optional-never-properties-to-model-exclusive-or" tabindex="-1">Item 63: Use Optional Never Properties to Model Exclusive Or <a class="header-anchor" href="#item-63-use-optional-never-properties-to-model-exclusive-or" aria-label="Permalink to &quot;Item 63: Use Optional Never Properties to Model Exclusive Or&quot;">â€‹</a></h1><h2 id="è¦ç‚¹" tabindex="-1">è¦ç‚¹ <a class="header-anchor" href="#è¦ç‚¹" aria-label="Permalink to &quot;è¦ç‚¹&quot;">â€‹</a></h2><ul><li>In TypeScript, &quot;or&quot; is &quot;inclusive or&quot;: <code>A | B</code> means either <code>A</code>, <code>B</code>, or both.</li><li>Consider the &quot;both&quot; possibility in your code, and either handle it or disallow it.</li><li>Use tagged unions to model exclusive or where it&#39;s convenient. Consider using optional <code>never</code> properties where it isn&#39;t.</li><li>åœ¨ TypeScript ä¸­ï¼Œ&quot;æˆ–&quot;æ˜¯&quot;åŒ…æ‹¬æ€§æˆ–&quot;ï¼š<code>A | B</code> æ„å‘³ç€å¯ä»¥æ˜¯ <code>A</code>ã€<code>B</code>ï¼Œæˆ–è€…ä¸¤è€…éƒ½æœ‰ã€‚</li><li>åœ¨ä»£ç ä¸­è€ƒè™‘&quot;åŒæ—¶&quot;çš„æƒ…å†µï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¤„ç†æˆ–ç¦æ­¢ã€‚</li><li>åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ ‡è®°è”åˆï¼ˆtagged unionsï¼‰æ¥å»ºæ¨¡äº’æ–¥æˆ–ï¼ˆexclusive orï¼‰ã€‚åœ¨ä¸æ–¹ä¾¿ä½¿ç”¨æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¯é€‰çš„ <code>never</code> å±æ€§ã€‚</li></ul><h2 id="æ­£æ–‡" tabindex="-1">æ­£æ–‡ <a class="header-anchor" href="#æ­£æ–‡" aria-label="Permalink to &quot;æ­£æ–‡&quot;">â€‹</a></h2><p>åœ¨æ™®é€šè¯­è¨€ä¸­ï¼Œ&quot;æˆ–&quot;æ„å‘³ç€&quot;äº’æ–¥æˆ–&quot;ã€‚åªæœ‰ç¨‹åºå‘˜å’Œé€»è¾‘å­¦å®¶æ‰ä½¿ç”¨åŒ…æ‹¬æ€§æˆ–ã€‚</p><p>åœ¨ TypeScript ä¸­ï¼Œå¾ˆå®¹æ˜“æ··æ·†è¿™ä¸¤ç§æƒ…å†µï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  shirtColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingTwo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  hairColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Thing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingOne</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingTwo</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgCoAtQHMDyIUDeAUMsgM6ZRgDCA9gDa1QBc5YU2A3EQL5GiRYiFBmyoA7rWTFS6OMCh1GLNhxBZufMAE8ADiMzrkAXjSHc+ZAB8zYydyA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>æˆ‘ä»¬é€šå¸¸å°†æœ€åä¸€è¡Œè¯»ä½œ&quot;ç±»å‹ Thing æ˜¯ ThingOne æˆ– ThingTwo&quot;ã€‚ä½†å°±åƒ JavaScript è¿è¡Œæ—¶çš„æˆ–ï¼ˆ||ï¼‰ä¸€æ ·ï¼ŒTypeScript ç±»å‹çº§åˆ«çš„æˆ–ï¼ˆ|ï¼‰æ˜¯åŒ…æ‹¬æ€§æˆ–ã€‚æ²¡æœ‰ç†ç”±ä¸€ä¸ªå¯¹è±¡ä¸èƒ½åŒæ—¶æ˜¯ ThingOne å’Œ ThingTwoï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> bothThings</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  shirtColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;red&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  hairColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;blue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> thing1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingOne</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bothThings </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ok</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> thing2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingTwo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bothThings </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ok</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgCoAtQHMDyIUDeAUMsgM6ZRgDCA9gDa1QBc5YU2A3EQL5GiRYiFBmyoA7rWTFS6OMCh1GLNhxBZufMAE8ADiMzrkAXjSHc+ZAB8zYydwS0QZMMgBGtMOlHqyJ6STklDQMTKwA5FAQACbhADSBcgpKYcjhbvQArhDxvA5OLshe2ACMrD4WKKYeXhVknKQA9I3ItADWRI7OrsXqAEzl5hJS1Z7e5vVNLe1EQA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ä¸ºä»€ä¹ˆè¿™æ ·æ˜¯å¯è¡Œçš„ï¼Ÿè¿™æ˜¯å› ä¸º TypeScript å…·æœ‰ç»“æ„ç±»å‹ç³»ç»Ÿï¼ˆItem 4ï¼‰ã€‚ThingOne å’Œ ThingTwo ç±»å‹éƒ½å…è®¸é¢å¤–çš„å±æ€§ï¼Œè¿™äº›å±æ€§æ²¡æœ‰åœ¨å®ƒä»¬çš„æ¥å£ä¸­å£°æ˜ï¼Œå°½ç®¡æ­£å¦‚ Item 11 æ‰€è§£é‡Šçš„ï¼Œè¿™æœ‰æ—¶ä¼šè¢«å¤šä½™å±æ€§æ£€æŸ¥æ‰€æ©ç›–ã€‚</p><p>é‚£ä¹ˆå¦‚æœä½ çœŸçš„æƒ³è¦äº’æ–¥æˆ–å‘¢ï¼Ÿå¦‚æœä½ æƒ³è¦ä¿æŒ ThingOne å’Œ ThingTwo åˆ†ç¦»å‘¢ï¼Ÿä½ å¦‚ä½•å»ºæ¨¡è¿™ç§æƒ…å†µï¼Ÿ</p><p>æ ‡å‡†çš„æŠ€å·§æ˜¯åœ¨ä½ çš„æ¥å£ä¸­ä½¿ç”¨å¯é€‰çš„ never ç±»å‹æ¥ç¦æ­¢æŸä¸ªå±æ€§ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OnlyThingOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  shirtColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  hairColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> never</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OnlyThingTwo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  hairColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  shirtColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> never</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExclusiveThing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OnlyThingOne</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OnlyThingTwo</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBARiKALAKkglmA5hGBeGAbwCgYYIMAnKAYRABsRKAuGAckoFMATNgGlIwkAQ3SU6jFuzj0Arp37EAvgG5imKJ0oAzYcE4wA8mHoBPNJizGDJMhTG0GTVtEqW1ZEWIlMA-KzBOADctNSV1ME0dPQNjMwtsFAB3ECJBL3EnKVd3QXtqH0p-GECQyjDiKFMABwMAUQAPYDkIdBCErHwjE3MMbGsYAB9u+L6sZJA1IA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ç°åœ¨ä¹‹å‰çš„èµ‹å€¼éƒ½ä¸èƒ½é€šè¿‡ç±»å‹æ£€æŸ¥å™¨ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> thing1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OnlyThingOne</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bothThings</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    ~~~~~~ Types of property &#39;hairColor&#39; are incompatible.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> thing2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OnlyThingTwo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bothThings</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    ~~~~~~ Types of property &#39;shirtColor&#39; are incompatible.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> allThings</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExclusiveThing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //  ~~~~~~~~~ Types of property &#39;hairColor&#39; are incompatible.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  shirtColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;red&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  hairColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;blue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBARiKALAKkglmA5hGBeGAbwCgYYIMAnKAYRABsRKAuGAckoFMATNgGlIwkAQ3SU6jFuzj0Arp37EAvgG5imKJ0oAzYcE4wA8mHoBPNJizGDJMhTG0GTVtEqW1ZEWIlMA-KzBOADctNSV1ME0dPQNjMwtsFAB3ECJBL3EnKVd3QXtqH0p-GECQyjDiKFMABwMAUQAPYDkIdBCErHwjE3MMbGsYAB9u+L6sZJA1UEhYZEsARlY43ssBggRkDog1AHodsjIAP2OTmBQazlwQbRhqyhBa6lN2DMK2GGEuGExQAFtq4RQdAyTgAOmI02gMDm2AATEseh0Jl0NqgxttiHsDjATqdzrUrjc7g8tFV2PlHJJ3p8DD8QP9AcD6GCIeAocJ6PQtqxGs1ZK12mMurYYFicbjcWcLoTbvdHmS2K8stSvnSGUCQeC7FRKc52FxeAJPKJMpJWGwZPJFKpiEA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>è¿™æ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºæ²¡æœ‰å€¼å¯ä»¥èµ‹å€¼ç»™ never ç±»å‹ã€‚ä½†å› ä¸ºå±æ€§æ˜¯å¯é€‰çš„ï¼Œæ‰€ä»¥æ°å¥½æœ‰ä¸€ç§å‡ºè·¯ï¼šä¸æ‹¥æœ‰è¯¥å±æ€§ã€‚</p><p>è¿™ä¸ä»…å¯¹è”åˆç±»å‹æœ‰ç”¨ã€‚å›æƒ³ä¸€ä¸‹ Item 4ï¼Œç»“æ„ç±»å‹åŒ–å¯¹äºäºŒç»´å’Œä¸‰ç»´å‘é‡æ¥è¯´ä¸æ˜¯ä¸€ä¸ªå¥½çš„æ¨¡å‹ã€‚ä½ å¯ä»¥ä½¿ç”¨å¯é€‰çš„ never æ¥ç›´æ¥ç¦æ­¢ 2D å‘é‡ä¸Šçš„ z å±æ€§ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector2D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  z</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> never</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgGoQWA9lATAEWQG8AoZZADwC5kQBXAWwCNoBuM5ATxvubY4BeAfh4QAbvwC+JIA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ä½¿ç”¨è¿™ç§ç±»å‹ï¼Œå¦‚æœä½ æ„å¤–åœ°å°†ä¸‰ç»´å‘é‡ä¼ é€’ç»™æœŸæœ›äºŒç»´å‘é‡çš„å‡½æ•°ï¼ˆå¦‚ normï¼‰ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> norm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector2D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqrt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v.x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, z: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> norm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//             ~ Types of property &#39;z&#39; are incompatible.</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgGoQWA9lATAEWQG8AoZZADwC5kQBXAWwCNoBuM5ATxvubY4BeAfh4QAbvwC+JGHRCZgWELRwMAFGJrpMOAgEpiHKBDB0oygLJwwACwB0AZwCOUMBrsVkAKi-JcyAGpkMTtOb19cPXZpBCUHMGDkAF5iamQAZgAaLhoAFmyBGgBWSXZYkHjkABNklSh1MSiSAHpm8naOjoA-ZAAVTgAHCAdkLBhkAagsIdcwgHIBOeQ4Y2RQWIYB62AmABsIOxIgA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>å¦‚æœæ²¡æœ‰ <code>z?: never</code>ï¼Œè¿™ä¸ä¼šæ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºè°ƒç”¨åœ¨ç»“æ„ä¸Šæ˜¯æœ‰æ•ˆçš„ï¼Œå°½ç®¡åœ¨è¯­ä¹‰ä¸Šæ˜¯ä¸æ­£ç¡®çš„ã€‚æˆ‘ä»¬å°†åœ¨ Item 64 ä¸­çœ‹åˆ°å¦ä¸€ç§ä¿®å¤ Vector2D é—®é¢˜çš„æ–¹æ³•ï¼šå“ç‰Œï¼ˆbrandsï¼‰ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡è®°è”åˆï¼ˆItem 34ï¼‰æ¥å®ç°äº’æ–¥æˆ–ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingOneTag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;one&#39;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  shirtColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingTwoTag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;two&#39;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  hairColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Thing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingOneTag</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThingTwoTag</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgCoAtQHMDyIKpxbIDeAUMsmAJ4AOEAXMgOQD2+zA3BcgM6ZQwAYVYAbVlCa8wUbNwC+ZUJFiIUGbKgDurQsXKUa9JszA6uPdHGBQR4yXxlyyio+swhiAXjQfc+PWQAH19NHT1uIA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ä¸€ä¸ªå­—ç¬¦ä¸²ä¸èƒ½åŒæ—¶æ˜¯ &#39;one&#39; å’Œ &#39;two&#39;ï¼Œæ‰€ä»¥è¿™äº›ç±»å‹ä¹‹é—´æ²¡æœ‰é‡å ã€‚è¿™æ„å‘³ç€åŒ…æ‹¬æ€§æˆ–å’Œäº’æ–¥æˆ–ä¹‹é—´æ²¡æœ‰åŒºåˆ«ã€‚è¿™æ˜¯åœ¨ä½ èƒ½å¤Ÿä½¿ç”¨æ—¶ä½¿ç”¨æ ‡è®°è”åˆçš„ä¼—å¤šå¥½ç†ç”±ä¹‹ä¸€ã€‚</p><p>ä¸å…¶æ‰‹åŠ¨æ·»åŠ å¯é€‰çš„ never å±æ€§ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªé€šç”¨çš„äº’æ–¥æˆ–ï¼ˆXORï¼‰è¾…åŠ©ç±»å‹ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> XOR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> never</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Exclude</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> never</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/C4TwDgpgBAGg8gJQDwBUCMAaKKBMA+KAXgCgoyoAKdKAMigG8BtAaygEsA7KAUQA8BjADYBXACYQkzCCAD2AM2w4sU2QvR4AugH4AXFA4QAbhABOAXwCUUAD6lyVHLQYt2XPkLESV87Jije1fG09A2NzCwBuYiA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¥ç›´æ¥ä»æœ¬æ¡ç›®å¼€å¤´çš„æ¥å£æ„é€  ExclusiveThingï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExclusiveThing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> XOR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ThingOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ThingTwo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> allThings</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExclusiveThing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //  ~~~~~~~~~ Types of property &#39;hairColor&#39; are incompatible.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  shirtColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;red&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  hairColor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;blue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/C4TwDgpgBAGg8gJQDwBUCMAaKKBMA+KAXgCgoyoAKdKAMigG8BtAaygEsA7KAUQA8BjADYBXACYQkzCCAD2AM2w4sU2QvR4AugH4AXFA4QAbhABOAXwCUUAD6lyVHLQYt2XPkLESV87Jije1fG09A2NzCwBuYk5gUzkAQ35oFAALTgBzOAMGOwBnNJNgAGEZQRkTPVzgEwyos2iOWJMEpOw0jnSUAHcZHLIU+LYTErKKqCqajrriUEg2jKJ5jqzoayXOnqjZ6HcRXLZjVIXCWERUdsyDLCOO7pk8KP4ZDiqoeMFBG-TcvV3hfcOF0W9DsAHpQWQAH7QmEw7DgCC5KA+MAmGSQQogKAAcgGQxG5WxbxM0E4TwAtmB4sA2AAjQQQAB0eQKxVK5T02JJomxGDseOG7LG2PpwggvOIZiiQA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>è™½ç„¶æ ‡è®°è”åˆæ˜¯åœ¨ TypeScript ä¸­åˆ›å»ºäº’æ–¥ç±»å‹çš„æ›´å¸¸è§æ–¹å¼ï¼Œä½†åœ¨ä½ æ— æ³•æˆ–ä¸æƒ³æ·»åŠ æ˜¾å¼æ ‡è®°çš„æƒ…å†µä¸‹ï¼Œå¯é€‰çš„ never æŠ€å·§å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p><h2 id="è¦ç‚¹å›é¡¾" tabindex="-1">è¦ç‚¹å›é¡¾ <a class="header-anchor" href="#è¦ç‚¹å›é¡¾" aria-label="Permalink to &quot;è¦ç‚¹å›é¡¾&quot;">â€‹</a></h2><ul><li>åœ¨ TypeScript ä¸­ï¼Œ&quot;æˆ–&quot;æ˜¯&quot;åŒ…æ‹¬æ€§æˆ–&quot;ï¼š<code>A | B</code> æ„å‘³ç€å¯ä»¥æ˜¯ <code>A</code>ã€<code>B</code>ï¼Œæˆ–è€…ä¸¤è€…éƒ½æœ‰ã€‚</li><li>åœ¨ä»£ç ä¸­è€ƒè™‘&quot;åŒæ—¶&quot;çš„æƒ…å†µï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¤„ç†æˆ–ç¦æ­¢ã€‚</li><li>åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ ‡è®°è”åˆæ¥å»ºæ¨¡äº’æ–¥æˆ–ã€‚åœ¨ä¸æ–¹ä¾¿ä½¿ç”¨æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¯é€‰çš„ <code>never</code> å±æ€§ã€‚</li></ul>`,40)]))}const y=i(t,[["render",p]]);export{o as __pageData,y as default};
