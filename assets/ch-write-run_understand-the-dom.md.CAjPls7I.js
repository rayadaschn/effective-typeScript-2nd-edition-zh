import{_ as i,c as a,o as n,ag as t}from"./chunks/framework.D53w8jfx.js";const g=JSON.parse('{"title":"Item 75: Understand the DOM Hierarchy","description":"","frontmatter":{},"headers":[],"relativePath":"ch-write-run/understand-the-dom.md","filePath":"ch-write-run/understand-the-dom.md"}'),e={name:"ch-write-run/understand-the-dom.md"};function l(h,s,p,k,d,E){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="item-75-understand-the-dom-hierarchy" tabindex="-1">Item 75: Understand the DOM Hierarchy <a class="header-anchor" href="#item-75-understand-the-dom-hierarchy" aria-label="Permalink to &quot;Item 75: Understand the DOM Hierarchy&quot;">â€‹</a></h1><h2 id="è¦ç‚¹" tabindex="-1">è¦ç‚¹ <a class="header-anchor" href="#è¦ç‚¹" aria-label="Permalink to &quot;è¦ç‚¹&quot;">â€‹</a></h2><ul><li>The DOM has a type hierarchy that you can usually ignore while writing JavaScript. But these types become more important in TypeScript. Understanding them will help you write TypeScript for the browser.</li><li>Know the differences between <code>Node</code>, <code>Element</code>, <code>HTMLElement</code>, and <code>EventTarget</code>, as well as those between <code>Event</code> and <code>MouseEvent</code>.</li><li>Either use a specific enough type for DOM elements and Events in your code or give TypeScript the context to infer it.</li></ul><h2 id="æ­£æ–‡" tabindex="-1">æ­£æ–‡ <a class="header-anchor" href="#æ­£æ–‡" aria-label="Permalink to &quot;æ­£æ–‡&quot;">â€‹</a></h2><p>æœ¬ä¹¦ä¸­çš„å¤§éƒ¨åˆ†æ¡ç›®å¯¹äºä½ åœ¨å“ªé‡Œè¿è¡Œ TypeScript éƒ½æ˜¯æ— å…³ç´§è¦çš„ï¼šåœ¨ç½‘é¡µæµè§ˆå™¨ä¸­ã€åœ¨æœåŠ¡å™¨ä¸Šï¼Œè¿˜æ˜¯åœ¨æ‰‹æœºä¸Šã€‚è¿™ä¸€ä¸ªæ¡ç›®åˆ™ä¸åŒã€‚å¦‚æœä½ ä¸æ˜¯åœ¨æµè§ˆå™¨ä¸­å·¥ä½œï¼Œè¯·è·³åˆ°ç¬¬ 76 æ¡ï¼</p><p>å½“ä½ åœ¨ç½‘é¡µæµè§ˆå™¨ä¸­è¿è¡Œ JavaScript æ—¶ï¼ŒDOM å±‚æ¬¡ç»“æ„æ€»æ˜¯å­˜åœ¨çš„ã€‚å½“ä½ ä½¿ç”¨ <code>document.getElementById</code> è·å–å…ƒç´ ï¼Œæˆ–ä½¿ç”¨ <code>document.createElement</code> åˆ›å»ºå…ƒç´ æ—¶ï¼Œå®ƒæ€»æ˜¯ç‰¹å®šç±»å‹çš„å…ƒç´ ï¼Œå³ä½¿ä½ å¯èƒ½ä¸å®Œå…¨ç†Ÿæ‚‰è¿™ä¸ªåˆ†ç±»ä½“ç³»ã€‚ä½ è°ƒç”¨ä½ æƒ³è¦çš„æ–¹æ³•å¹¶ä½¿ç”¨ä½ æƒ³è¦çš„å±æ€§ï¼Œç„¶åå¸Œæœ›ä¸€åˆ‡é¡ºåˆ©ã€‚</p><p>åœ¨ TypeScript ä¸­ï¼ŒDOM å…ƒç´ çš„å±‚æ¬¡ç»“æ„å˜å¾—æ›´åŠ æ˜æ˜¾ã€‚äº†è§£ä½ çš„ <code>Node</code>ã€<code>Element</code> å’Œ <code>EventTarget</code> ä¹‹é—´çš„åŒºåˆ«å°†å¸®åŠ©ä½ è°ƒè¯•ç±»å‹é”™è¯¯å¹¶å†³å®šä½•æ—¶ä½¿ç”¨ç±»å‹æ–­è¨€æ˜¯åˆé€‚çš„ã€‚å› ä¸ºå¦‚æ­¤å¤šçš„ API éƒ½åŸºäº DOMï¼Œæ‰€ä»¥å³ä½¿ä½ ä½¿ç”¨ React æˆ– D3 è¿™æ ·çš„æ¡†æ¶ï¼Œè¿™ä¹Ÿæ˜¯ç›¸å…³çš„ã€‚</p><p>å‡è®¾ä½ æƒ³è·Ÿè¸ªç”¨æˆ·åœ¨ä¸€ä¸ª <code>&lt;div&gt;</code> ä¸Šæ‹–æ‹½é¼ æ ‡çš„è¿‡ç¨‹ã€‚ä½ å†™äº†ä¸€äº›çœ‹ä¼¼æ— å®³çš„ JavaScriptï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleDrag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eDown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> targetEl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eDown.currentTarget</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  targetEl.classList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dragging&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dragStart</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [eDown.clientX, eDown.clientY]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleUp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eUp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    targetEl.classList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dragging&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    targetEl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mouseup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handleUp)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dragEnd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [eUp.clientX, eUp.clientY]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;dx, dy = &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dragEnd[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dragStart[i])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  targetEl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mouseup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handleUp)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> surfaceEl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;surface&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">surfaceEl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mousedown&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handleDrag)</span></span></code></pre></div><p>å½“ä½ æ·»åŠ ç±»å‹æ³¨è§£å¹¶è¿è¡Œç±»å‹æ£€æŸ¥å™¨æ—¶ï¼Œå®ƒåœ¨è¿™ 14 è¡Œä»£ç ä¸­æ ‡è®°äº†ä¸å°‘äº 11 ä¸ªé”™è¯¯ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleDrag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eDown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> targetEl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eDown.currentTarget</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  targetEl.classList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dragging&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ~~~~~           &#39;targetEl&#39; is possibly &#39;null&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //       ~~~~~~~~~ Property &#39;classList&#39; does not exist on type &#39;EventTarget&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dragStart</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    eDown.clientX,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    eDown.clientY,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //    ~~~~~~~        ~~~~~~~ Property &#39;...&#39; does not exist on &#39;Event&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleUp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eUp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    targetEl.classList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dragging&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ~~~~~           &#39;targetEl&#39; is possibly &#39;null&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //       ~~~~~~~~~ Property &#39;classList&#39; does not exist on type &#39;EventTarget&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    targetEl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mouseup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handleUp)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ~~~~~ &#39;targetEl&#39; is possibly &#39;null&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dragEnd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      eUp.clientX,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      eUp.clientY,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //  ~~~~~~~      ~~~~~~~   Property &#39;...&#39; does not exist on &#39;Event&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;dx, dy = &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dragEnd[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dragStart[i])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  targetEl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mouseup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handleUp)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ~~~~~ &#39;targetEl&#39; is possibly &#39;null&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> surfaceEl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;surface&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">surfaceEl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mousedown&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handleDrag)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ~~~~~~ &#39;surfaceEl&#39; is possibly &#39;null&#39;</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/GYVwdgxgLglg9mABACwIZgCYBsCmARAJ1QHMAKfOAdzAC5EBRANxzCgEpEBvAKEUQgQBnKIiioCxHFHpZEAXkQVqAOgggCBFlAAq4yVADcvUXqkzVWVIMEAZGMOWoMGUgHIMRYsRhhirtkZ8APRBiAB+ERF80TF8rmISZliuiPaIAA5w1jAARlgAnoiuYCBYycYhsXyRNVEACgRw6TgEUIWuEJbWdsIpGHA4gohgcCI4AB72Igii+c1FTFq6iVCuxgJgwogeJADKCSIKANrG0UpgFjBaABoANIp4VBedV6wAmqfBodG1UVXhv0QDSaLTaRWUEL6AyGIzGky2M1ci1Yaz4AF1AvwhCI0JhcABVdLyRDkQl0ZHseQAPi4nwS+nMnSstimyk0AFs4Mw3DsvD4-AFPpVav8YvFTNJkqkhplsnl2iUyqjopUqr9IkDGs1Wu0md0plDBsNRop4dMkG15kjmKxlvplXx6Uk2ThOcwKT0oCwWm5OSBBDgQOlXPdcdgcITBTFhTUik7JSk0rLBLkCkVFeUYhstrz6JhiScqhH0pcbvdi6X3p8vtVAbF1dFgdqwa4IcpDTCTRMpohERSHYgMZ9s3BcMosHAyO5xvcMIUFCHEEcAAz3ACMaOU7NQ6VIMGp208eYwRxgaMQAFpD3sDqe0Wwo4gAL7GePmJwYD1Tb0EX1wf2BsGoboOGkaYjGGriisMiJjKWQpvK6alOUL7cNmIiCOowCoBAOAyMS-RqOyWjKAyuDEawABC+QAJIuK4mEENhuH+EYjHMXhWCOM4X7CD+f4Af01CLmGuCECQgoQZB7E4ZxsEZPBqYKshaxAA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿè¿™ä¸ª <code>EventTarget</code> æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¸€åˆ‡éƒ½å¯èƒ½æ˜¯ <code>null</code>ï¼Ÿ</p><p>è¦ç†è§£ <code>EventTarget</code> é”™è¯¯ï¼Œéœ€è¦æ·±å…¥äº†è§£ä¸€ä¸‹ DOM å±‚æ¬¡ç»“æ„ã€‚è¿™é‡Œæœ‰ä¸€äº› HTMLï¼š</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;quote&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;and &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;yet&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; it moves&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>å¦‚æœä½ æ‰“å¼€æµè§ˆå™¨çš„ JavaScript æ§åˆ¶å°å¹¶è·å–å¯¹ p å…ƒç´ çš„å¼•ç”¨ï¼Œä½ ä¼šçœ‹åˆ°å®ƒæ˜¯ä¸€ä¸ª <code>HTMLParagraphElement</code>ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementsByTagName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;p&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HTMLParagraphElement</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span></code></pre></div><p><code>HTMLParagraphElement</code> æ˜¯ <code>HTMLElement</code> çš„å­ç±»å‹ï¼Œ<code>HTMLElement</code> æ˜¯ <code>Element</code> çš„å­ç±»å‹ï¼Œ<code>Element</code> æ˜¯ <code>Node</code> çš„å­ç±»å‹ï¼Œ<code>Node</code> æ˜¯ <code>EventTarget</code> çš„å­ç±»å‹ã€‚æ³¨æ„ï¼Œè¿™äº›éƒ½æ˜¯ JavaScript è¿è¡Œæ—¶å€¼ï¼Œä¸ä»…ä»…æ˜¯ TypeScript ç±»å‹ã€‚è¡¨ 9-1 åˆ—å‡ºäº†å±‚æ¬¡ç»“æ„ä¸­ä¸€äº›ç±»å‹çš„ä¾‹å­ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/rayadaschn/blogImage@master/img/202506240856604.png" alt="Table 9-1. Types in the DOM hierarchy"></p><p><code>EventTarget</code> æ˜¯æ‰€æœ‰ DOM ç±»å‹ä¸­æœ€é€šç”¨çš„ã€‚ä½ åªèƒ½ç”¨å®ƒæ¥æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ã€ç§»é™¤å®ƒä»¬å’Œåˆ†å‘äº‹ä»¶ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œ<code>classList</code> é”™è¯¯å¼€å§‹å˜å¾—æ›´æœ‰æ„ä¹‰ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleDrag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eDown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> targetEl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eDown.currentTarget</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  targetEl.classList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dragging&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ~~~~~           &#39;targetEl&#39; is possibly &#39;null&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //       ~~~~~~~~~ Property &#39;classList&#39; does not exist on type &#39;EventTarget&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/GYVwdgxgLglg9mABACwIZgCYBsCmARAJ1QHMAKfOAdzAC5EBRANxzCgEpEBvAKEUQgQBnKIiioCxHFHpZEAXkQVqAOgggCBFlAAq4yVADcvUXqkzVWVIMEAZGMOWoMGUgHIMRYsRhhirtkZ8APRBiAB+ERF80TF8rmISZliuiPaIAA5w1jAARlgAnoiuYCBYycYhsXyRNVEACgRw6TgEUIWuEJbWdsIpGHA4gohgcCI4AB72Igii+c1FTFq6iVCuxgJgwogeJADKCSIKANrG0UpgFjBaABoANIp4VBedV6wAmqfBodG1UVXhv0QDSaLTaRWUEL6AyGIzGky2M1ci1Yaz4AF1AvwhCI0JhcABVdLyRDkQl0ZHseQAPi4nwS+nMnSstimyk0AFs4Mw3DsvD4-AFPpVav8YvFTNJkqkhplsnl2iUyqjopUqr9IkDGs1Wu0md0plDBsNRop4dMkG15kjmKxlvplXx6Uk2ThOcwKT0oCwWm5OSBBDgQOlXPdcdgcITBTFhTUik7JSk0rLBLkCkVFeUYhstrz6JhiScqhH0pcbvdi6X3p8vtVAbF1dFgdqwa4IcpDTCTRMpohERSHYgMZ9s3BcMosHAyO5xvcMIUFCHEEcAAz3ACMaOU7NQ6VIMGp208eYwRxgaMQAFpD3sDqe0Wwo4gAL7GePmJwYD1Tb0EX1wf2BsGoboOGkaYjGGriisMiJjKWQpvK6alOUL7cNmIiCOowCoBAOAyMS-RqOyWjKAyuDEawABC+QAJIuK4mEENhuH+EYjHMXhWCOM4X7CD+f4Af01CLmGuCECQgoQZB7E4ZxsEZPBqYKshaxAA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>é¡¾åæ€ä¹‰ï¼Œ<code>Event</code> çš„ <code>currentTarget</code> å±æ€§æ˜¯ä¸€ä¸ª <code>EventTarget</code>ã€‚å®ƒç”šè‡³å¯èƒ½æ˜¯ <code>null</code>ã€‚TypeScript æ²¡æœ‰ç†ç”±ç›¸ä¿¡å®ƒæœ‰ <code>classList</code> å±æ€§ã€‚è™½ç„¶ <code>currentTarget</code> åœ¨å®è·µä¸­å¯èƒ½æ˜¯ <code>HTMLElement</code>ï¼Œä½†ä»ç±»å‹ç³»ç»Ÿçš„è§’åº¦æ¥çœ‹ï¼Œæ²¡æœ‰ç†ç”±å®ƒä¸èƒ½æ˜¯ <code>window</code> æˆ– <code>XMLHttpRequest</code>ã€‚ï¼ˆ<code>currentTarget</code> æ˜¯ä½ æ³¨å†Œç›‘å¬å™¨çš„å…ƒç´ ï¼Œè€Œ <code>target</code> æ˜¯äº‹ä»¶èµ·æºçš„å…ƒç´ ï¼Œå®ƒå¯èƒ½æœ‰ä¸åŒçš„ç±»å‹ã€‚ï¼‰</p><p>å‘ä¸Šç§»åŠ¨åˆ°å±‚æ¬¡ç»“æ„ï¼Œæˆ‘ä»¬æ¥åˆ° <code>Node</code>ã€‚ä¸æ˜¯ <code>Element</code> çš„ <code>Node</code> åŒ…æ‹¬æ–‡æœ¬ç‰‡æ®µå’Œæ³¨é‡Šã€‚ä¾‹å¦‚ï¼Œåœ¨è¿™ä¸ª HTML ä¸­ï¼š</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  And &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;yet&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; it moves</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &lt;!-- quote from Galileo --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>æœ€å¤–å±‚çš„å…ƒç´ æ˜¯ä¸€ä¸ª <code>HTMLParagraphElement</code>ã€‚æ­£å¦‚ä½ åœ¨è¿™é‡Œçœ‹åˆ°çš„ï¼Œå®ƒæœ‰ <code>children</code> å’Œ <code>childNodes</code>ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p.children</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HTMLCollection [i]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p.childNodes</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NodeList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) [text, i, text, comment, text]</span></span></code></pre></div><p><code>children</code> è¿”å›ä¸€ä¸ª <code>HTMLCollection</code>ï¼Œä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„ç»“æ„ï¼ŒåªåŒ…å«å­ <code>Element</code>ï¼ˆ<code>&lt;i&gt;yet&lt;/i&gt;</code>ï¼‰ã€‚<code>childNodes</code> è¿”å›ä¸€ä¸ª <code>NodeList</code>ï¼Œä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„ <code>Node</code> é›†åˆã€‚è¿™ä¸ä»…åŒ…æ‹¬ <code>Element</code>ï¼ˆ<code>&lt;i&gt;yet&lt;/i&gt;</code>ï¼‰ï¼Œè¿˜åŒ…æ‹¬æ–‡æœ¬ç‰‡æ®µï¼ˆ&quot;And,&quot; &quot;it moves&quot;ï¼‰å’Œæ³¨é‡Šï¼ˆ&quot;quote from Galileo&quot;ï¼‰ã€‚ï¼ˆå‚è§ç¬¬ 17 æ¡äº†è§£&quot;ç±»ä¼¼æ•°ç»„&quot;çš„å«ä¹‰ã€‚ï¼‰å¦‚æœä½ éœ€è¦ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„å±•å¼€è¯­æ³•ï¼ˆ<code>[...p.childNodes]</code>ï¼‰ã€‚</p><p><code>Element</code> å’Œ <code>HTMLElement</code> ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæœ‰é HTML çš„ <code>Element</code>ï¼ŒåŒ…æ‹¬æ•´ä¸ª SVG æ ‡ç­¾å±‚æ¬¡ç»“æ„ã€‚è¿™äº›æ˜¯ <code>SVGElement</code>ï¼Œå®ƒä»¬æ˜¯å¦ä¸€ç§ç±»å‹çš„ <code>Element</code>ã€‚<code>&lt;html&gt;</code> æˆ– <code>&lt;svg&gt;</code> æ ‡ç­¾çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä»¬æ˜¯ <code>HTMLHtmlElement</code> å’Œ <code>SVGSVGElement</code>ã€‚å¦‚æœä½ ä¸ä½¿ç”¨ SVG æˆ– MathMLï¼Œé‚£ä¹ˆåœ¨å®è·µä¸­ï¼Œä½ çš„æ‰€æœ‰ <code>Element</code> éƒ½å°†æ˜¯ <code>HTMLElement</code>ã€‚</p><p>æœ‰æ—¶ä¸“é—¨çš„ <code>Element</code> ç±»ä¼šæœ‰è‡ªå·±çš„å±æ€§â€”â€”ä¾‹å¦‚ï¼Œ<code>HTMLImageElement</code> æœ‰ <code>src</code> å±æ€§ï¼Œ<code>HTMLInputElement</code> æœ‰ <code>value</code> å±æ€§ã€‚å¦‚æœä½ æƒ³ä»å€¼ä¸­è¯»å–è¿™äº›å±æ€§ä¹‹ä¸€ï¼Œå®ƒçš„ç±»å‹å¿…é¡»è¶³å¤Ÿå…·ä½“æ‰èƒ½æ‹¥æœ‰è¯¥å±æ€§ã€‚</p><p>TypeScript å¯¹ DOM çš„ç±»å‹å£°æ˜å¤§é‡ä½¿ç”¨å­—é¢é‡ç±»å‹ï¼Œè¯•å›¾ä¸ºä½ æä¾›æœ€å…·ä½“çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementsByTagName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;p&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    ^? const p: HTMLParagraphElement</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    ^? const button: HTMLButtonElement</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    ^? const div: HTMLDivElement | null</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBADjAvDAJiYBXAtgUzFAOgHMcoBRAGx13wgCEBPAFQEMiA5F3ACgHI5eASgDaABgC6AbgBQAelkxFMAHoB+GKEiw4ALhgAJJgFkAMgAUWAJzbW4AC0rU8UaZugwARhihRwSVOjYzgTAljgsUDiONFB8Xj7gQjLySirqbrDxvmB6hqZ03tnRzq7g7igAlgBu-miYMQQAjhg4lgwAyjhUwL6WfJVVSXIKSmoaZbADucYmACLVxfgwAD4wYBgUFNJAA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ä½†è¿™å¹¶ä¸æ€»æ˜¯å¯èƒ½çš„ï¼Œç‰¹åˆ«æ˜¯å¯¹äº <code>document.getElementById</code>ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my-div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    ^? const div: HTMLElement | null</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBAJgSwG4wLzxMArgWwKZhQB0A5nlAKIA2e+hAQgJ4CScAFAOQ6MC0iSHAJQBuAFAB6cTGkwAegH4YoSLH4AuGAAkAKgFkAMtVoFYAHxhgsVKqKA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>è™½ç„¶ç±»å‹æ–­è¨€é€šå¸¸ä¸è¢«æ¨èï¼ˆç¬¬ 9 æ¡è§£é‡Šäº†åŸå› ï¼‰ï¼Œä½†è¿™æ˜¯ä½ çŸ¥é“çš„æ¯” TypeScript æ›´å¤šçš„æƒ…å†µï¼Œæ‰€ä»¥å®ƒä»¬æ˜¯åˆé€‚çš„ã€‚åªè¦ä½ çŸ¥é“ <code>#my-div</code> æ˜¯ä¸€ä¸ª divï¼Œè¿™ä¸ªæ–­è¨€å°±æ²¡æœ‰é—®é¢˜ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my-div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HTMLDivElement</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/CYewxgrgtgpgdgFwHQHMYIKIBsa0QIQE8BJYACgHIpCBaYASwDcKBKAAgEMBnNgCQBUAsgBkAIk2y54CANwAoIA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>å¦‚æœä½ ä¸çŸ¥é“ï¼Œè¿è¡Œæ—¶æ£€æŸ¥ä¼šèµ·ä½œç”¨ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my-div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (div </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HTMLDivElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(div)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //          ^? const div: HTMLDivElement</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBAJgSwG4wLzxMArgWwKZhQB0A5nlAKIA2e+hAQgJ4CScAFAOQ6MC0iSHAJQBuAFAIAZjDb8YCSFACGYYHhBSAEgBUAsgBkAIsmq0CUQTADeomDFCQQNIlRAkZyETZgB6b7f8BMAB6APx24NDwyABcMNr6RkgmdFCiAL6iQA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ï¼ˆç¬¬ 54 æ¡æ¢ç´¢äº†å¦ä¸€ç§ä¸º <code>HTMLElement</code> è·å¾—æ›´ç²¾ç¡®ç±»å‹çš„æ–¹æ³•ã€‚ï¼‰</p><p>å¯ç”¨ <code>strictNullChecks</code> åï¼Œä½ éœ€è¦è€ƒè™‘ <code>document.getElementById</code> è¿”å› <code>null</code> çš„æƒ…å†µã€‚æ ¹æ®è¿™æ˜¯å¦çœŸçš„ä¼šå‘ç”Ÿï¼Œä½ å¯ä»¥æ·»åŠ  <code>if</code> è¯­å¥æˆ–éç©ºæ–­è¨€ï¼ˆ<code>!</code>ï¼‰ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my-div&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    ^? const div: HTMLElement</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBAJgSwG4wLzxMArgWwKZhQB0A5nlAKIA2e+hAQgJ4CScAFAOQ6MC0iSHAJQBCANwAoAPSSYsmAD0A-DFCRY-AFwwAEgBUAsgBlqtAlHFA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>è¿™äº›ç±»å‹ä¸æ˜¯ TypeScript ç‰¹æœ‰çš„ã€‚ç›¸åï¼Œå®ƒä»¬æ˜¯ä» DOM çš„æ­£å¼è§„èŒƒç”Ÿæˆçš„ã€‚è¿™æ˜¯ç¬¬ 42 æ¡å»ºè®®åœ¨å¯èƒ½æ—¶ä»è§„èŒƒç”Ÿæˆç±»å‹çš„ä¸€ä¸ªä¾‹å­ã€‚</p><p>å…³äº DOM å±‚æ¬¡ç»“æ„å°±è¯´åˆ°è¿™é‡Œã€‚é‚£ä¹ˆ <code>clientX</code> å’Œ <code>clientY</code> é”™è¯¯å‘¢ï¼Ÿ</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleDrag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eDown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dragStart</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    eDown.clientX,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    eDown.clientY,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //    ~~~~~~~        ~~~~~~~ Property &#39;...&#39; does not exist on &#39;Event&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/GYVwdgxgLglg9mABACwIZgCYBsCmARAJ1QHMAKfOAdzAC5EBRANxzCgEpEBvAKEUQHp+iAHSjeiCAgDOURBiLEAylFQFZAXkQBtcX0QVqwiFhgsoADQA0+vFTBGTZgJq6+gvYgB+3n548ffH0QABQI4AAccNQBPRAByUWE4uTgcKUQwOFkcAA8YGUQEeKYzOPEAXQBucXdE7gBfbiA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>é™¤äº† <code>Node</code> å’Œ <code>Element</code> çš„å±‚æ¬¡ç»“æ„å¤–ï¼Œè¿˜æœ‰ <code>Event</code> çš„å±‚æ¬¡ç»“æ„ã€‚TypeScript çš„ <code>lib.dom.d.ts</code> å®šä¹‰äº†ä¸å°‘äº 54 ä¸ª <code>Event</code> çš„å­ç±»å‹ï¼</p><p>æ™®é€šçš„ <code>Event</code> æ˜¯æœ€é€šç”¨çš„äº‹ä»¶ç±»å‹ã€‚æ›´å…·ä½“çš„ç±»å‹åŒ…æ‹¬ï¼š</p><ul><li><code>UIEvent</code> - ä»»ä½•ç±»å‹çš„ç”¨æˆ·ç•Œé¢äº‹ä»¶</li><li><code>MouseEvent</code> - ç”±é¼ æ ‡è§¦å‘çš„äº‹ä»¶ï¼Œå¦‚ç‚¹å‡»</li><li><code>TouchEvent</code> - ç§»åŠ¨è®¾å¤‡ä¸Šçš„è§¦æ‘¸äº‹ä»¶</li><li><code>KeyboardEvent</code> - æŒ‰é”®äº‹ä»¶</li></ul><p><code>handleDrag</code> ä¸­çš„é—®é¢˜æ˜¯äº‹ä»¶è¢«å£°æ˜ä¸º <code>Event</code>ï¼Œè€Œ <code>clientX</code> å’Œ <code>clientY</code> åªå­˜åœ¨äºæ›´å…·ä½“çš„ <code>MouseEvent</code> ç±»å‹ä¸Šã€‚</p><p>é‚£ä¹ˆä½ å¦‚ä½•ä¿®å¤æœ¬æ¡å¼€å¤´çš„ä¾‹å­å‘¢ï¼Ÿç¬¬ 24 æ¡è§£é‡Šäº† TypeScript å¦‚ä½•åˆ©ç”¨ä¸Šä¸‹æ–‡æ¥æ¨æ–­æ›´ç²¾ç¡®çš„ç±»å‹ï¼ŒDOM å£°æ˜å¤§é‡ä½¿ç”¨äº†è¿™ä¸€ç‚¹ã€‚å†…è” <code>mousedown</code> å¤„ç†ç¨‹åºç»™ TypeScript æ›´å¤šä¸Šä¸‹æ–‡å¹¶ç§»é™¤äº†å¤§éƒ¨åˆ†é”™è¯¯ã€‚ä½ ä¹Ÿå¯ä»¥å°†å‚æ•°ç±»å‹å£°æ˜ä¸º <code>MouseEvent</code> è€Œä¸æ˜¯ <code>Event</code>ã€‚</p><p>è¿™æ˜¯æœ¬æ¡å¼€å¤´ä»£ç ç¤ºä¾‹çš„å®Œæ•´ç‰ˆæœ¬ï¼Œé€šè¿‡äº†ç±»å‹æ£€æŸ¥å™¨ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> addDragHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">el</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HTMLElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  el.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mousedown&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eDown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dragStart</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [eDown.clientX, eDown.clientY]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleUp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eUp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MouseEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      el.classList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dragging&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      el.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mouseup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handleUp)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dragEnd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [eUp.clientX, eUp.clientY]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;dx, dy = &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dragEnd[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dragStart[i])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    el.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mouseup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handleUp)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> surfaceEl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;surface&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (surfaceEl) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  addDragHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(surfaceEl)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/GYVwdgxgLglg9mABAQwCaoCICdkHMASyYqANgKZYAUZJAXIvgCoCyAMgKLkC2ZYUAlIgDeAKESIaAOjSp2AN15RWMAM5ReFSgHIucECrKo4AdzBaANBIwmkAXgB8wseMQQEaxKhy4AylGRYUIi2iADaZNamkhAkMIoAGpYRNtGxigCaALoA3M7ibmAeABZEpGQAqgAOwYjUVfTMegbyioIOTi4uUjHIKirKapJYZLoK2l54uDBguFr8uZ3iUsOjZC18A+pgmjpNZCCVFoglxORV83kuBR4TuOzENeFVqXF8iRLPMa9QWQuL13ByJISHBcOMAB6WVAATxqR1CAAZLABGTKSLjISqUGDBRy3e6oUIwTKIAC0nm8fgCUCJmX4F06AF9LlIZOslKotjtdPp9odLCcyuc-oyLsyRNcgioQFhgMgIGsSDUjBAQDw+JJcGQoJwRooAELQgCSqG00tl8rIc1yMGAtXNcoVnEEonEMmweEIp00DstztyzKAA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>æœ€åçš„ <code>if</code> è¯­å¥å¤„ç†äº†æ²¡æœ‰ <code>#surface</code> å…ƒç´ çš„å¯èƒ½æ€§ã€‚å¦‚æœä½ çŸ¥é“è¿™ä¸ªå…ƒç´ å­˜åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨éç©ºæ–­è¨€ä»£æ›¿ï¼ˆ<code>surfaceEl!</code>ï¼‰ã€‚<code>addDragHandler</code> éœ€è¦ä¸€ä¸ªéç©ºçš„ <code>HTMLElement</code>ï¼Œéµå¾ªç¬¬ 33 æ¡çš„å»ºè®®å°†ç©ºå€¼æ¨åˆ°è¾¹ç•Œã€‚</p><h2 id="è¦ç‚¹å›é¡¾" tabindex="-1">è¦ç‚¹å›é¡¾ <a class="header-anchor" href="#è¦ç‚¹å›é¡¾" aria-label="Permalink to &quot;è¦ç‚¹å›é¡¾&quot;">â€‹</a></h2><ul><li>DOM æœ‰ä¸€ä¸ªç±»å‹å±‚æ¬¡ç»“æ„ï¼Œåœ¨ç¼–å†™ JavaScript æ—¶ä½ é€šå¸¸å¯ä»¥å¿½ç•¥å®ƒã€‚ä½†è¿™äº›ç±»å‹åœ¨ TypeScript ä¸­å˜å¾—æ›´åŠ é‡è¦ã€‚ç†è§£å®ƒä»¬å°†å¸®åŠ©ä½ ä¸ºæµè§ˆå™¨ç¼–å†™ TypeScriptã€‚</li><li>äº†è§£ <code>Node</code>ã€<code>Element</code>ã€<code>HTMLElement</code> å’Œ <code>EventTarget</code> ä¹‹é—´çš„åŒºåˆ«ï¼Œä»¥åŠ <code>Event</code> å’Œ <code>MouseEvent</code> ä¹‹é—´çš„åŒºåˆ«ã€‚</li><li>è¦ä¹ˆåœ¨ä»£ç ä¸­ä¸º DOM å…ƒç´ å’Œäº‹ä»¶ä½¿ç”¨è¶³å¤Ÿå…·ä½“çš„ç±»å‹ï¼Œè¦ä¹ˆç»™ TypeScript ä¸Šä¸‹æ–‡æ¥æ¨æ–­å®ƒã€‚</li></ul>`,61)]))}const c=i(e,[["render",l]]);export{g as __pageData,c as default};
