import{_ as i,c as a,o as n,ag as h}from"./chunks/framework.D53w8jfx.js";const d=JSON.parse('{"title":"Item 61: Use Record Types to Keep Values in Sync","description":"","frontmatter":{},"headers":[],"relativePath":"ch-recipes/values-in-sync.md","filePath":"ch-recipes/values-in-sync.md"}'),p={name:"ch-recipes/values-in-sync.md"};function l(k,s,t,e,r,g){return n(),a("div",null,s[0]||(s[0]=[h(`<h1 id="item-61-use-record-types-to-keep-values-in-sync" tabindex="-1">Item 61: Use Record Types to Keep Values in Sync <a class="header-anchor" href="#item-61-use-record-types-to-keep-values-in-sync" aria-label="Permalink to &quot;Item 61: Use Record Types to Keep Values in Sync&quot;">â€‹</a></h1><h2 id="è¦ç‚¹" tabindex="-1">è¦ç‚¹ <a class="header-anchor" href="#è¦ç‚¹" aria-label="Permalink to &quot;è¦ç‚¹&quot;">â€‹</a></h2><ul><li>Recognize the fail open versus fail closed dilemma.</li><li>Use ++Record++ types to keep related values and types synchronized.</li><li>Consider using ++Record++ types to force choices when adding new properties to an interface.</li><li>è®¤è¯†åˆ°&quot;å¤±è´¥å¼€æ”¾&quot;ï¼ˆfail openï¼‰ä¸&quot;å¤±è´¥å°é—­&quot;ï¼ˆfail closedï¼‰ä¹‹é—´çš„ä¸¤éš¾é—®é¢˜ã€‚</li><li>ä½¿ç”¨ <code>Record</code> ç±»å‹æ¥ä¿æŒç›¸å…³å€¼å’Œç±»å‹çš„åŒæ­¥ã€‚</li><li>åœ¨å‘æ¥å£æ·»åŠ æ–°å±æ€§æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ <code>Record</code> ç±»å‹æ¥å¼ºåˆ¶åšå‡ºé€‰æ‹©ã€‚</li></ul><h2 id="æ­£æ–‡" tabindex="-1">æ­£æ–‡ <a class="header-anchor" href="#æ­£æ–‡" aria-label="Permalink to &quot;æ­£æ–‡&quot;">â€‹</a></h2><p>å‡è®¾ä½ æ­£åœ¨ç¼–å†™ä¸€ä¸ªç”¨äºç»˜åˆ¶æ•£ç‚¹å›¾çš„ UI ç»„ä»¶ã€‚å®ƒæœ‰å‡ ä¸ªä¸åŒç±»å‹çš„å±æ€§æ¥æ§åˆ¶å…¶æ˜¾ç¤ºå’Œè¡Œä¸ºï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // The data</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  xs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  ys</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Display</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  xRange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  yRange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  color</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Events</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgMoLmSUAKUD2ADgM7IDeAUMsgPQ3IAqAFigCaZxXIAexAXMhABXALYAjaAG0AugG4uAT36DREqDPlc6yACLBihADZwFXbgCU4IAOYQBk4eOgAaFU6hzFlm3eQPVLm5qntQI+Ib4UALEYFCg1prU2gCiAG4Q4MRc+CAAwobACADWAPwCABTcAo5qrgrVAVCuoKwQVUHQAJTIALwAfMip+MCs8gC+FEA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ä¸ºäº†é¿å…ä¸å¿…è¦çš„å·¥ä½œï¼Œä½ å¸Œæœ›åªåœ¨éœ€è¦æ—¶é‡ç»˜å›¾è¡¨ã€‚æ›´æ”¹æ•°æ®æˆ–æ˜¾ç¤ºå±æ€§å°†éœ€è¦é‡ç»˜ï¼Œä½†æ›´æ”¹äº‹ä»¶å¤„ç†å™¨åˆ™ä¸éœ€è¦ã€‚</p><p>ä»¥ä¸‹æ˜¯ä½ å¯èƒ½å®ç°è¿™ç§ä¼˜åŒ–çš„ä¸€ç§æ–¹å¼ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shouldUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">oldProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> kStr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> oldProps) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kStr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (oldProps[k] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newProps[k]) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;onClick&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgMoLmSUAKUD2ADgM7IDeAUMsgPQ3IAqAFigCaZxXIAexAXMhABXALYAjaAG0AugG4uAT36DREqDPlc6yACLBihADZwFXbgCU4IAOYQBk4eOgAaFU6hzFlm3eQPVLm5qntQI+Ib4UALEYFCg1prU2gCiAG4Q4MRc+CAAwobACADWAPwCABTcAo5qrgrVAVCuoKwQVUHQAJTIALwAfMip+MCs8gC+FDBCIAhgwDnIxEz4QoasAKqE7JDl2Wt4RMromNgHJM5cIBAA7mdHGFjQdxTdlNQwkcjlYSAxyEWoWLIUDIcKsO6vLihHJ-Iq9f6AqDIOCkIoQBT4GBoB6nAgkeTUajALHlMF3SRFaTIACEPR6ghu5MpkMJhOJXzhtPpAHIcvlCkVud0oBAwEIoCBkLEhBACYSJtQFcgRWKJch4IZiLKKBMgA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ï¼ˆå…³äºæ­¤å¾ªç¯ä¸­ <code>keyof</code> æ–­è¨€çš„è§£é‡Šï¼Œè¯·å‚è§ç¬¬ 60 æ¡ã€‚è¿™ä¸ªæ–­è¨€æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å…³å¿ƒå€¼çš„ç±»å‹ï¼Œåªå…³å¿ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚ï¼‰</p><p>å½“ä½ æˆ–åŒäº‹æ·»åŠ æ–°å±æ€§æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ<code>shouldUpdate</code> å‡½æ•°å°†åœ¨å±æ€§å‘ç”Ÿå˜åŒ–æ—¶é‡ç»˜å›¾è¡¨ã€‚ä½ å¯èƒ½ä¼šç§°è¿™ç§æ–¹æ³•ä¸ºä¿å®ˆçš„æˆ–&quot;å¤±è´¥å¼€æ”¾&quot;ï¼ˆfail openï¼‰æ–¹æ³•ã€‚å¥½å¤„æ˜¯å›¾è¡¨æ€»æ˜¯çœ‹èµ·æ¥æ­£ç¡®ã€‚ç¼ºç‚¹æ˜¯å®ƒå¯èƒ½è¢«ç»˜åˆ¶å¾—å¤ªé¢‘ç¹ã€‚</p><p>&quot;å¤±è´¥å°é—­&quot;ï¼ˆfail closedï¼‰æ–¹æ³•å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shouldUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">oldProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    oldProps.xs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newProps.xs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    oldProps.ys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newProps.ys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    oldProps.xRange </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newProps.xRange </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    oldProps.yRange </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newProps.yRange </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    oldProps.color </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newProps.color</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // (no check for onClick)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgMoLmSUAKUD2ADgM7IDeAUMsgPQ3IAqAFigCaZxXIAexAXMhABXALYAjaAG0AugG4uAT36DREqDPlc6yACLBihADZwFXbgCU4IAOYQBk4eOgAaFU6hzFlm3eQPVLm5qntQI+Ib4UALEYFCg1prU2gCiAG4Q4MRc+CAAwobACADWAPwCABTcAo5qrgrVAVCuoKwQVUHQAJTIALwAfMip+MCs8gC+FDBCIAhgwDnIxEz4QoasAKqE7JDl2Wt4RMromNgHJM5cIBAA7mdHGFjQdxTdlNRQEGBCUCDIu9TUcKsO4AOl4yAAhD0eoIbqDwQAfBFcQH7AgkEFKSHQ2G3dHETGkJEo5BA+HeWzYmFXPGHMEUlDEgGktF0hQMqm40HsqyUpkAsn4kFhCJQTk00EiyIk7TlED4ZAIFjFZAwSKkvIFYqdLidcYUIA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ä½¿ç”¨è¿™ç§æ–¹æ³•ä¸ä¼šæœ‰ä»»ä½•ä¸å¿…è¦çš„é‡ç»˜ï¼Œä½†å¯èƒ½ä¼šæœ‰ä¸€äº›å¿…è¦çš„ç»˜åˆ¶è¢«é—æ¼ã€‚ä¼˜åŒ–ä¸­çš„ä¸€ä¸ªé‡è¦åŸåˆ™æ˜¯&quot;é¦–å…ˆï¼Œä¸è¦é€ æˆä¼¤å®³&quot;ã€‚æˆ‘ä»¬ä¸åº”è¯¥ä¸ºäº†æ€§èƒ½è€Œç‰ºç‰²æ­£ç¡®çš„è¡Œä¸ºã€‚</p><p>ä¸¤ç§æ–¹æ³•éƒ½ä¸ç†æƒ³ã€‚ä½ çœŸæ­£æƒ³è¦çš„æ˜¯åœ¨æ·»åŠ æ–°å±æ€§æ—¶å¼ºåˆ¶ä½ çš„åŒäº‹æˆ–æœªæ¥çš„è‡ªå·±åšå‡ºå†³å®šã€‚ä½ å¯èƒ½ä¼šå°è¯•æ·»åŠ æ³¨é‡Šï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  xs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  ys</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Note: if you add a property here, update shouldUpdate!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgMoLmSUAKUD2ADgM7IDeAUMsgPQ3IAqAFigCaZxXIAexAXMhABXALYAjaAG0AugG4uAT36DREqDPlc6yACLBihADZwFXbgCU4IAOYQBk4eOgAaFU6hzFlm3eQPVLm5qntQI+Ib4UALEYFCg1prU2gCiAG4Q4MRc+CAAwobACADWAPwCABTcAo5qrgrVAVCuoKwQVUHQAJTIALwAfMip+MCs8gC+FKDY8EhoGFjQeESklNS8De4aiso1UiG09AB0x9l5BcVlyJUbtcj1HU3ILW03Xb0DQyOJB8gAcviQATAGB3fBCZBwVisCHIQgEQjQMAKZAsKAQVxCQjsSDIYhMMGGVgAVSxmAgAEIKBMgA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>ä½†ä½ çœŸçš„æœŸæœ›è¿™ä¼šèµ·ä½œç”¨å—ï¼Ÿå¦‚æœç±»å‹æ£€æŸ¥å™¨èƒ½ä¸ºä½ å¼ºåˆ¶æ‰§è¡Œè¿™ä¸€ç‚¹ä¼šæ›´å¥½ã€‚</p><p>å¦‚æœä½ è®¾ç½®å¾—å½“ï¼Œå®ƒå¯ä»¥åšåˆ°ã€‚å…³é”®æ˜¯ä½¿ç”¨å…·æœ‰æ­£ç¡®é”®é›†çš„ <code>Record</code> ç±»å‹ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> REQUIRES_UPDATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  xs: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ys: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  xRange: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  yRange: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  onClick: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shouldUpdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">oldProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> kStr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> oldProps) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kStr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (oldProps[k] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newProps[k] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> REQUIRES_UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[k]) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgMoLmSUAKUD2ADgM7IDeAUMsgPQ3IAqAFigCaZxXIAexAXMhABXALYAjaAG0AugG4uAT36DREqDPlc6yACLBihADZwFXbgCU4IAOYQBk4eOgAaFU6hzFlm3eQPVLm5qntQI+Ib4UALEYFCg1prU2gCiAG4Q4MRc+CAAwobACADWAPwCABTcAo5qrgrVAVCuoKwQVUHQAJTIALwAfMip+MCs8gC+FGEgMcjmyQCKAKoAknOoAPqLODoAggzJAuYQYVCsADxFEAr4MGgYWNB4RMSuYvjhEFYDPeRmyrFCCDORT-KCA4HUCxWWwCAFArzQ3xwiHIMIRKLIZHZPIFYoCeCGYjwsaaGBCEAIMDAHLIYhMfBCQysRaEdiQcrZJlPEgCdCYbDcl5cEAQADugt59wFBBIFG6lGoMEiyHKUxmRVQsWQoGQ4VYgvlXFCOXVvWQGq1cFIl2utz5D1wMuI8mo1GAt3KesFkiK0mQAEIej8ReKnT6-QAyCOzBYrNabbZ7ZLhw2u11QCBgIRQECYsEQF2uibUYvIDNZnPIAlE8YUIA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p><code>keyof ScatterProps</code> æ³¨è§£å‘Šè¯‰ç±»å‹æ£€æŸ¥å™¨ <code>REQUIRES_UPDATE</code> åº”è¯¥å…·æœ‰ä¸ <code>ScatterProps</code> ç›¸åŒçš„æ‰€æœ‰å±æ€§ã€‚å…³é”®çš„æ˜¯ï¼Œè¿™äº›éƒ½æ˜¯å¿…éœ€çš„å±æ€§ã€‚</p><p>ç°åœ¨å¦‚æœå°†æ¥ä½ å‘ <code>ScatterProps</code> æ·»åŠ æ–°å±æ€§ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  onDoubleClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgMoLmSUAKUD2ADgM7IDeAUMsgPQ3IAqAFigCaZxXIAexAXMhABXALYAjaAG0AugG4uAT36DREqDPlc6yACLBihADZwFXbgCU4IAOYQBk4eOgAaFU6hzFlm3eQPVLm5qntQI+Ib4UALEYFCg1prU2gCiAG4Q4MRc+CAAwobACADWAPwCABTcAo5qrgrVAVCuoKwQVUHQAJTIALwAfMip+MCs8gC+FKDY8EhoGFjQeESklEn0AHSb2SA6+EJihhD5haUV3f2Dw6MUE0A" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>é‚£ä¹ˆè¿™å°†åœ¨ <code>REQUIRES_UPDATE</code> çš„å®šä¹‰ä¸­äº§ç”Ÿé”™è¯¯ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> REQUIRES_UPDATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //  ~~~~~~~~~~~~~~~ Property &#39;onDoubleClick&#39; is missing in type ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgMoLmSUAKUD2ADgM7IDeAUMsgPQ3IAqAFigCaZxXIAexAXMhABXALYAjaAG0AugG4uAT36DREqDPlc6yACLBihADZwFXbgCU4IAOYQBk4eOgAaFU6hzFlm3eQPVLm5qntQI+Ib4UALEYFCg1prU2gCiAG4Q4MRc+CAAwobACADWAPwCABTcAo5qrgrVAVCuoKwQVUHQAJTIALwAfMip+MCs8gC+FKDY8EhoGFjQeESklEn0AHSb2SA6+EJihhD5haUV3f2Dw6MUE2EgMcjmyQCKAKoAkk+oAPqvODoAQQYyQE5ggYSgrAAPEUIAp8DA5phsEsSK4xPhwhArAMeuQtPRkAA-Emksnk5Co6BgBTIADkOV2+0Ox2KdOQ+mQIn0xHiHJAyBphBQm3WBOQuQA8gBZHBfVBmZSxIQQZyKJVQFVq6gWKy2ATK1VePW+Q3a5BhCJRQWao3UHKsooCeCGYh22j0ZIAOR0N00QA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>è¿™è‚¯å®šä¼šå¼ºåˆ¶è§£å†³è¿™ä¸ªé—®é¢˜ï¼åˆ é™¤æˆ–é‡å‘½åå±æ€§ä¹Ÿä¼šå¯¼è‡´ç±»ä¼¼çš„é”™è¯¯ã€‚è¿™æ˜¯è¿‡åº¦å±æ€§æ£€æŸ¥ï¼ˆç¬¬ 11 æ¡ï¼‰åœ¨èµ·ä½œç”¨ï¼Œå®ƒè®©æˆ‘ä»¬å¼ºåˆ¶æ‰§è¡Œå¯¹è±¡å…·æœ‰æˆ‘ä»¬æƒ³è¦çš„å±æ€§é›†ï¼Œä¸å¤šä¸å°‘ã€‚TypeScript åœ¨ç»å…¸çš„å¤±è´¥å¼€æ”¾/å¤±è´¥å°é—­ä¸¤éš¾é—®é¢˜ä¸­ç»™äº†æˆ‘ä»¬ç¬¬ä¸‰ä¸ªé€‰æ‹©ï¼Œå³&quot;ç›´æ¥å¤±è´¥&quot;ã€‚</p><p>é‡è¦çš„æ˜¯æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨äº†å…·æœ‰å¸ƒå°”å€¼çš„å¯¹è±¡ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ•°ç»„ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPS_REQUIRING_UPDATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScatterProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;xs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;ys&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgMoLmSUAKUD2ADgM7IDeAUMsgPQ3IAqAFigCaZxXIAexAXMhABXALYAjaAG0AugG4uAT36DREqDPlc6yACLBihADZwFXbgCU4IAOYQBk4eOgAaFU6hzFlm3eQPVLm5qntQI+Ib4UALEYFCg1prU2gCiAG4Q4MRc+CAAwobACADWAPwCABTcAo5qrgrVAVCuoKwQVUHQAJTIALwAfMip+MCs8gC+FKDY8EhoGFjQeESklEn0AHSb2SA6+EJihhD5haUV3f2Dw6MUE2EgMcg45gDyOKgA+ubJAIoAqgCS5n+ADkAOLvX44HQAQQYyQqRQgCnwMDmmGwSxInRkvT8XAA5Lx8c4CUpiVoNltPEA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>é‚£ä¹ˆæˆ‘ä»¬å°†è¢«è¿«è¿›å…¥åŒæ ·çš„å¤±è´¥å¼€æ”¾/å¤±è´¥å°é—­é€‰æ‹©ã€‚</p><p>å¦‚æœä½ å¸Œæœ›ä¸€ä¸ªå¯¹è±¡å…·æœ‰ä¸å¦ä¸€ä¸ªå¯¹è±¡å®Œå…¨ç›¸åŒçš„å±æ€§ï¼Œé‚£ä¹ˆ Record å’Œæ˜ å°„ç±»å‹æ˜¯ç†æƒ³çš„ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ç”¨å®ƒæ¥é¿å…ç»å…¸çš„å¤±è´¥å¼€æ”¾/å¤±è´¥å°é—­ä¸¤éš¾é—®é¢˜ï¼Œä½†è¿˜æœ‰è®¸å¤šå…¶ä»–åº”ç”¨ï¼Œä¾‹å¦‚è¦æ±‚åº”ç”¨ç¨‹åºçŠ¶æ€ä¸­çš„æ¯ä¸ªå±æ€§éƒ½æœ‰å¯¹åº”çš„ URL å‚æ•°ã€‚</p><h2 id="è¦ç‚¹å›é¡¾" tabindex="-1">è¦ç‚¹å›é¡¾ <a class="header-anchor" href="#è¦ç‚¹å›é¡¾" aria-label="Permalink to &quot;è¦ç‚¹å›é¡¾&quot;">â€‹</a></h2><ul><li>è®¤è¯†åˆ°&quot;å¤±è´¥å¼€æ”¾&quot;ï¼ˆfail openï¼‰ä¸&quot;å¤±è´¥å°é—­&quot;ï¼ˆfail closedï¼‰ä¹‹é—´çš„ä¸¤éš¾é—®é¢˜ã€‚</li><li>ä½¿ç”¨ <code>Record</code> ç±»å‹æ¥ä¿æŒç›¸å…³å€¼å’Œç±»å‹çš„åŒæ­¥ã€‚</li><li>åœ¨å‘æ¥å£æ·»åŠ æ–°å±æ€§æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ <code>Record</code> ç±»å‹æ¥å¼ºåˆ¶åšå‡ºé€‰æ‹©ã€‚</li></ul>`,39)]))}const A=i(p,[["render",l]]);export{d as __pageData,A as default};
