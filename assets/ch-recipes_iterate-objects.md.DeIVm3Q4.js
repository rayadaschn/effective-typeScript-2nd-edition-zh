import{_ as i,c as a,o as n,ag as t}from"./chunks/framework.D53w8jfx.js";const E=JSON.parse('{"title":"Item 60: Know How to Iterate Over Objects","description":"","frontmatter":{},"headers":[],"relativePath":"ch-recipes/iterate-objects.md","filePath":"ch-recipes/iterate-objects.md"}'),h={name:"ch-recipes/iterate-objects.md"};function p(e,s,l,k,r,g){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="item-60-know-how-to-iterate-over-objects" tabindex="-1">Item 60: Know How to Iterate Over Objects <a class="header-anchor" href="#item-60-know-how-to-iterate-over-objects" aria-label="Permalink to &quot;Item 60: Know How to Iterate Over Objects&quot;">â€‹</a></h1><h2 id="è¦ç‚¹" tabindex="-1">è¦ç‚¹ <a class="header-anchor" href="#è¦ç‚¹" aria-label="Permalink to &quot;è¦ç‚¹&quot;">â€‹</a></h2><ul><li>Be aware that any objects your function receives as parameters might have additional keys.</li><li>Use <code>Object.entries</code> to iterate over the keys and values of any object.</li><li>Use a ++for-in++ loop with an explicit type assertion to iterate objects when you know exactly what the keys will be.</li><li>Consider <code>Map</code> as an alternative to objects since it&#39;s easier to iterate over.</li><li>è¦æ³¨æ„å‡½æ•°æ¥æ”¶çš„ä»»ä½•å¯¹è±¡ä½œä¸ºå‚æ•°å¯èƒ½åŒ…å«é¢å¤–çš„é”®ã€‚</li><li>ä½¿ç”¨ <code>Object.entries</code> æ¥éå†ä»»ä½•å¯¹è±¡çš„é”®å’Œå€¼ã€‚</li><li>å½“ä½ ç¡®åˆ‡çŸ¥é“å¯¹è±¡çš„é”®æ—¶ï¼Œä½¿ç”¨ <code>for-in</code> å¾ªç¯å¹¶è¿›è¡Œæ˜¾å¼çš„ç±»å‹æ–­è¨€æ¥éå†å¯¹è±¡ã€‚</li><li>è€ƒè™‘ä½¿ç”¨ <code>Map</code> ä½œä¸ºå¯¹è±¡çš„æ›¿ä»£å“ï¼Œå› ä¸ºå®ƒæ›´å®¹æ˜“è¿›è¡Œè¿­ä»£ã€‚</li></ul><h2 id="æ­£æ–‡" tabindex="-1">æ­£æ–‡ <a class="header-anchor" href="#æ­£æ–‡" aria-label="Permalink to &quot;æ­£æ–‡&quot;">â€‹</a></h2><p>è¿™æ®µä»£ç è¿è¡Œæ­£å¸¸ï¼Œä½† TypeScript å´æ ‡è®°äº†ä¸€ä¸ªé”™è¯¯ã€‚ä¸ºä»€ä¹ˆï¼Ÿ</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  one: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;uno&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  two: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dos&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  three: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tres&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj[k]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //        ~~~~~~ Element implicitly has an &#39;any&#39; type</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //               because type ... has no index signature</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBCBGArGBeGBvAUDOYCmAXDAOQCuYIxANNjFAO4hHEAmIE1tUAFgE56ESUfhxoBfANyYAZiF4wAFKEiwA1jACWYOEgCUGWsugwAbqh2IA2qoC6UnAHoHOFy4B+HzzACiAGzwAtnhgsBoBAA6+GsAaUL4AnjDcAIYQMMnaxBnxxHTx4Xi0Tq4lpfB4wMmkEHh5BTAAdE1JqTAUmmAseAAeMBAaAOZgyVCk-JhimEA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>æ£€æŸ¥ <code>obj</code> å’Œ <code>k</code> ç¬¦å·ä¼šç»™å‡ºçº¿ç´¢ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { one: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;uno&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, two: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dos&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, three: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tres&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//    ^? const obj: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//         one: string;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//         two: string;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//         three: string;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//       }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //       ^? const k: string</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBCBGArGBeGBvOYCmAuGA5AK5ggEA0MUA7iPgQCYgQVUAWATtnoVFyzAC+AbgBQAenExpMAHoB+GKEiwEifOglSZOrD2gcAlmADmYybp006MA8bNbLMqJ2747p89t2DRAMxAOGAAKZWgYAGsYYzgkAEoMUWkLSwUlcHCI9z57JJgLADoi0V8gA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p><code>k</code> çš„ç±»å‹æ˜¯ <code>string</code>ï¼Œä½†ä½ è¯•å›¾ç´¢å¼•ä¸€ä¸ªç±»å‹åªæœ‰ä¸‰ä¸ªç‰¹å®šé”®çš„å¯¹è±¡ï¼š<code>&#39;one&#39;</code>ã€<code>&#39;two&#39;</code> å’Œ <code>&#39;three&#39;</code>ã€‚é™¤äº†è¿™ä¸‰ä¸ªä¹‹å¤–è¿˜æœ‰å…¶ä»–å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è¿™å¿…é¡»å¤±è´¥ã€‚</p><p>ä½¿ç”¨ç±»å‹æ–­è¨€æ¥è·å¾— <code>k</code> çš„æ›´çª„ç±»å‹å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> kStr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kStr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> keyof</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //    ^? const k: &quot;one&quot; | &quot;two&quot; | &quot;three&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> obj[k] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// OK</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBCBGArGBeGBvAUDOYCmAXDAOQCuYIxANNjFAO4hHEAmIE1tUAFgE56ESUfhxoBfANyYAZiF4wAFKEiwA1jACWYOEgCUGWsugwAbqh2IA2qoC6UnAHoHOFy4B+HzzACiAGzwAtnhgsBoBAA6+GsAaUL4AnjDcAIYQMMnaxBnxxHTx4Xi0Tq4lpfB4wMmkEHh5BTAAdE1JqTAUmmAseAAeMBAaAOZgyVCk-JhiMnKKRmoAysIdFvpYOLMw6miqC-KtqnjxINJ1eEcW9jDFLgB6APww66pEAETgeM8wAD4wzwwgH99fnwBM9DOBjGY0AgrLYJI5nAB5ADSE0wQA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>æ‰€ä»¥çœŸæ­£çš„é—®é¢˜æ˜¯ï¼šä¸ºä»€ä¹ˆåœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ <code>k</code> çš„ç±»å‹è¢«æ¨æ–­ä¸º <code>string</code> è€Œä¸æ˜¯ <code>&quot;one&quot; | &quot;two&quot; | &quot;three&quot;</code>ï¼Ÿ</p><p>ä¸ºäº†ç†è§£ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç¨å¾®ä¸åŒçš„ä¾‹å­ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ABC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">abc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ABC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> abc) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //       ^? const k: string</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> abc[k]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //        ~~~~~~ Element implicitly has an &#39;any&#39; type</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //               because type &#39;ABC&#39; has no index signature</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBCBGArGBeGBvAUDOYCmAXDAOQCuYIxANNjFAO4hHEAmIE1tUAFgE56ESUfhxoBfANyYAZiF4wAFKEiwA1jACWYOEgCUGWsugwAbqh2IA2qoC6UnAHoHOFy4B+HzzACiAGzwAtnhgsBoBAA6+GsAaUL4AnjDcAIYQMMnaxBnxxHTx4Xi0Tq4lpfB4wMmkEHh5BTAAdE1JqTAUmmAseAAeMBAaAOZgyVCk-JhimFpQeLzSycC1AIIAQgDCBjjJRNC8WgP2MPA7wvuHwERgpAHlvFKTMuTAUBrgMLIgCsnwFzCra-osDhZPIlOBjOotOkfoDaI5nKUAHoAfhgRjUJz2YAGcLR4NgZjQ32A1jsuOKpRgni8fkCwVCESiMTiiRSaQyJGyuSg+UKrgplLKFSqNTqtWI-1ybLaIA6XV6-SGIzGfJgk0mQA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>è¿™æ˜¯å’Œä¹‹å‰ä¸€æ ·çš„é”™è¯¯ã€‚ä½ å¯ä»¥ä½¿ç”¨ç›¸åŒç±»å‹çš„ç±»å‹æ–­è¨€æ¥&quot;ä¿®å¤&quot;å®ƒï¼ˆ<code>k as keyof ABC</code>ï¼‰ã€‚ä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒTypeScript çš„æŠ±æ€¨æ˜¯æ­£ç¡®çš„ã€‚åŸå› å¦‚ä¸‹ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { a: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, b: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;b&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, c: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// OK</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/MYewdgzgLgBCBGArGBeGBvAUDOYCmAXDAOQCuYIxANNjFAO4hHEAmIE1tUAFgE56ESUfhxoBfANyYAZiF4wAFKEiwA1jACWYOEgCUGWsugwAbqh2IA2qoC6UnAHoHOFy4B+HzzACiAGzwAtnhgsBoBAA6+GsAaUL4AnjDcAIYQMMnaxBnxxHTx4Xi0Tq4lpfB4wMmkEHh5BTAAdE1JqTAUmmAseAAeMBAaAOZgyVCk-JhimFpQeLzSycC1AIIAQgDCBjjJRNC8WgP2MPA7wvuHwERgpAHlvFKTMuTAUBrgMLIgCsnwFzCra-osDhZPIlOBjOotOkfoDaI5nKUAHoAfhgRjUJz2YAGcLR4NgZjQ32A1jsuOKpRgni8fkCwVCESiMTiiRSaQyJGyuSg+UKrgplLKFSqNTqtWI-1ybLaIA6XV6-SGIzGfJgk0m6JgvTQ6G2nOoR2Y8ANvwATFQYCxLnh6DAACIjPAKXSSGQgT7dXQSeEwADyAGlMEA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>å‡½æ•° <code>foo</code> å¯ä»¥ç”¨ä»»ä½•å¯èµ‹å€¼ç»™ <code>ABC</code> çš„å€¼è°ƒç”¨ï¼Œè€Œä¸ä»…ä»…æ˜¯å…·æœ‰ <code>&#39;a&#39;</code>ã€<code>&#39;b&#39;</code> å’Œ <code>&#39;c&#39;</code> å±æ€§çš„å€¼ã€‚å®Œå…¨æœ‰å¯èƒ½è¯¥å€¼è¿˜æœ‰å…¶ä»–å±æ€§ï¼ˆå‚è§ Item 4 äº†è§£åŸå› ï¼‰ã€‚ä¸ºäº†å…è®¸è¿™ç§æƒ…å†µï¼ŒTypeScript ç»™ <code>k</code> å®ƒå”¯ä¸€èƒ½ç¡®å®šçš„ç±»å‹ï¼Œå³ <code>string</code>ã€‚</p><p>ä½¿ç”¨ç±»å‹æ–­è¨€åˆ° <code>keyof ABC</code> åœ¨è¿™é‡Œè¿˜æœ‰å¦ä¸€ä¸ªç¼ºç‚¹ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">abc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ABC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> kStr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> abc) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> kStr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ABC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //  ^? let k: keyof ABC (equivalent to &quot;a&quot; | &quot;b&quot; | &quot;c&quot;)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> abc[k]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //    ^? const v: string | number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgIICEDCyDeAoZZOALmQGcwpQBzAbgOQCNSKqQ6GFSQBXAW0bR6AXzwweIBGGAB7EMhgyZACjiMuaLAEpcDRVGTKEcisgDaAawA0yAG4BdZDJjIA8owBWEKQDoI4KggyVXUtHXxCQgB6KMi45AA9AH5kYxBTCxZKGgZCNLIZABsIH0KZamVbLXo4mPj45NSTMDtSOBAATwZRUSA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>å¦‚æœ <code>&quot;a&quot; | &quot;b&quot; | &quot;c&quot;</code> å¯¹ <code>k</code> æ¥è¯´å¤ªçª„ï¼Œé‚£ä¹ˆ <code>string | number</code> å¯¹ <code>v</code> æ¥è¯´è‚¯å®šä¹Ÿå¤ªçª„ã€‚åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œå…¶ä¸­ä¸€ä¸ªå€¼æ˜¯ <code>Date</code>ï¼Œä½†å®ƒå¯èƒ½æ˜¯ä»»ä½•ä¸œè¥¿ã€‚è¿™å¯èƒ½å¯¼è‡´è¿è¡Œæ—¶çš„æ··ä¹±ã€‚æ­£å¦‚ Item 9 æ‰€è§£é‡Šçš„ï¼Œç±»å‹æ–­è¨€åº”è¯¥æ€»æ˜¯è®©ä½ ç´§å¼ ï¼Œå› ä¸º TypeScript å¯èƒ½å‘ç°äº†ä»€ä¹ˆã€‚ï¼ˆä»¤äººæƒŠè®¶çš„æ˜¯ï¼ŒTypeScript ä¼šè®©ä½ åœ¨è¿™ä¸ª for-in å¾ªç¯ä¸Šæ–¹å£°æ˜ <code>let k: keyof ABC</code> å¹¶ä½¿ç”¨ <code>k</code> ä½œä¸ºè¿­ä»£å™¨ï¼Œä½†è¿™å¹¶ä¸æ¯”ç±»å‹æ–­è¨€æ›´å®‰å…¨ï¼Œè€Œä¸”ä¸å¤Ÿæ˜ç¡®ã€‚ï¼‰</p><p>é‚£ä¹ˆå¦‚æœä½ åªæƒ³éå†å¯¹è±¡çš„é”®å’Œå€¼è€Œä¸å‡ºç°ç±»å‹é”™è¯¯æ€ä¹ˆåŠï¼Ÿ<code>Object.entries</code> è®©ä½ å¯ä»¥åŒæ—¶éå†ä¸¤è€…ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">abc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ABC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(abc)) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //        ^? const k: string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //          ^? const v: any</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgIICEDCyDeAoZZOALmQGcwpQBzAbgOQCNSKqQ6GFSQBXAW0bR6AXzwweIBGGAB7EMhgyZACjiMuaLAEpcDRVGTKEcisgDaAawA0yAG4BdZDJjIA8owBWEKQDoI4KggyVXUtHXxCQgB6KMi45AA9AH5kYxBTCxZKGgZCNLIZABsIH0KZamVbLXo4mPj45NSTMDtSOBAATwZRUSA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>è™½ç„¶è¿™äº›ç±»å‹å¯èƒ½å¾ˆéš¾å¤„ç†ï¼Œä½†å®ƒä»¬è‡³å°‘æ˜¯è¯šå®çš„ï¼</p><p>TypeScript åœ¨ for-in å¾ªç¯ä¸­æ¨æ–­ <code>string</code> çš„å¦ä¸€ä¸ªåŸå› æ˜¯åŸå‹æ±¡æŸ“ã€‚è¿™æ˜¯ä¸€ä¸ªå®‰å…¨é—®é¢˜ï¼Œå…¶ä¸­å®šä¹‰åœ¨ <code>Object.prototype</code> ä¸Šçš„å±æ€§è¢«æ‰€æœ‰å…¶ä»–å¯¹è±¡ç»§æ‰¿ã€‚è¿™äº›ç»§æ‰¿çš„å±æ€§å°†è¢« for-in å¾ªç¯æšä¸¾ï¼Œæ‰€ä»¥ <code>string</code> æ˜¯ä¸€ä¸ªæ›´å®‰å…¨çš„é€‰æ‹©ã€‚ï¼ˆ<code>Object.entries</code> æ’é™¤äº†ç»§æ‰¿çš„å±æ€§ã€‚ï¼‰</p><p>è·å¾—æ›´ç²¾ç¡®ç±»å‹çš„å®‰å…¨æ–¹æ³•æ˜¯æ˜ç¡®åˆ—å‡ºä½ æ„Ÿå…´è¶£çš„é”®ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">abc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ABC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> keys</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;b&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;c&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> keys) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //       ^? const k: &quot;a&quot; | &quot;b&quot; | &quot;c&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> abc[k]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //    ^? const v: string | number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgIICEDCyDeAoZZOALmQGcwpQBzAbgOQCNSKqQ6GFSQBXAW0bR6AXzwweIBGGAB7EMhgyZACjiMuaLAEpcnORWQBrCAE8yyALzIA2gHI4tgDTJbjJy4S2AukXMJ9YPSEilDIyv4gBobIMjBGpmQ6+ISEAPSpKZkAegD8yBFRpABEcEXIAD7IRYxllUUIRQyEBWDIAG6WROrWhl5BKenZeS3tLJQ0Fci8AtAMoqJAA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>å¦‚æœä½ çš„æ„å›¾æ˜¯è¦†ç›– <code>ABC</code> ä¸­çš„æ‰€æœ‰é”®ï¼Œä½ éœ€è¦æŸç§æ–¹å¼æ¥ä¿æŒé”®æ•°ç»„ä¸ç±»å‹åŒæ­¥ã€‚</p><p>è™½ç„¶éå†å¯¹è±¡æœ‰å¾ˆå¤šå±é™©ï¼Œä½†éå† <code>Map</code> åˆ™æ²¡æœ‰ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //  ^? const m: Map&lt;string, string&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;one&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;uno&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;two&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dos&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;three&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tres&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //        ^? const k: string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //          ^? const v: string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><a href="https://www.typescriptlang.org/play/?ts=5.4.5#code/JYOwLgpgTgZghgYwgAgIICEDCyDeAoZZOALmQGcwpQBzAbgOQCNSKqQ6GFSQBXAW0bR6AXzwIA9iArI+yALzIQEAO7IAsnAAOACgDaDAPQHCAPQD8yCVLAzSGzQB5WNADTlKNAHwNdAckkQvm6+PCDivgC6Lj6+YMrhwQAm4mSR0YR+YAAWUBCBwZQQqVF4EQCU9DDiUMjaVtK6ANZuAG4RyOIwMgB0EOBURdplZbiGxoQTphb1No0sHuyckmTiADYQ3avi1NotFWOTh8jmlss2LfNs1HiiQA" target="_blank" rel="noreferrer">ğŸ’» playground</a></p><p>Map æ›´å®¹æ˜“éå†ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰ä¸å¯¹è±¡ç›¸åŒçš„ç»“æ„è¡Œä¸ºï¼šä½ æ°¸è¿œä¸ä¼šåœ¨ä¸ä½¿ç”¨ç±»å‹æ–­è¨€æˆ–é€šè¿‡ <code>any</code> ç±»å‹çš„æƒ…å†µä¸‹åœ¨ <code>Map&lt;string, string&gt;</code> ä¸­æ”¾å…¥æ•°å­—å€¼ã€‚ä½†å¦‚æœä½ çš„æ•°æ®æ¥è‡ª JSON æˆ–å·²ç»è®¾è®¡ä¸ºä½¿ç”¨å¯¹è±¡çš„å¦ä¸€ä¸ª APIï¼Œå®ƒä»¬å¯èƒ½ä¸å¤ªæ–¹ä¾¿ä½¿ç”¨ã€‚Item 16 æœ‰ä¸€ä¸ªä¾‹å­ï¼Œè¯´æ˜å¦‚ä½•ç”¨ Map æ›¿æ¢å¯¹è±¡ç±»å‹å¯ä»¥æé«˜ä»£ç çš„ç±»å‹å®‰å…¨æ€§ã€‚</p><p>å¦‚æœä½ æƒ³éå†ä¸å¯å˜å¯¹è±¡ä¸­çš„é”®å’Œå€¼ï¼Œä½ å¯ä»¥åœ¨ for-in å¾ªç¯ä¸­å¯¹é”®ä½¿ç”¨æ˜¾å¼ç±»å‹æ–­è¨€ã€‚è¦å®‰å…¨åœ°éå†å¯èƒ½å…·æœ‰é¢å¤–å±æ€§çš„å¯¹è±¡ï¼Œè¯·ä½¿ç”¨ <code>Object.entries</code>ã€‚å®ƒæ€»æ˜¯å®‰å…¨çš„ï¼Œå°½ç®¡é”®å’Œå€¼ç±»å‹æ›´éš¾å¤„ç†ã€‚å¹¶è€ƒè™‘ Map æ˜¯å¦å¯èƒ½æ˜¯åˆé€‚çš„æ›¿ä»£æ–¹æ¡ˆã€‚</p><h2 id="è¦ç‚¹å›é¡¾" tabindex="-1">è¦ç‚¹å›é¡¾ <a class="header-anchor" href="#è¦ç‚¹å›é¡¾" aria-label="Permalink to &quot;è¦ç‚¹å›é¡¾&quot;">â€‹</a></h2><ul><li>è¦æ³¨æ„å‡½æ•°æ¥æ”¶çš„ä»»ä½•å¯¹è±¡ä½œä¸ºå‚æ•°å¯èƒ½åŒ…å«é¢å¤–çš„é”®ã€‚</li><li>ä½¿ç”¨ <code>Object.entries</code> æ¥éå†ä»»ä½•å¯¹è±¡çš„é”®å’Œå€¼ã€‚</li><li>å½“ä½ ç¡®åˆ‡çŸ¥é“å¯¹è±¡çš„é”®æ—¶ï¼Œä½¿ç”¨ <code>for-in</code> å¾ªç¯å¹¶è¿›è¡Œæ˜¾å¼çš„ç±»å‹æ–­è¨€æ¥éå†å¯¹è±¡ã€‚</li><li>è€ƒè™‘ä½¿ç”¨ <code>Map</code> ä½œä¸ºå¯¹è±¡çš„æ›¿ä»£å“ï¼Œå› ä¸ºå®ƒæ›´å®¹æ˜“è¿›è¡Œè¿­ä»£ã€‚</li></ul>`,42)]))}const o=i(h,[["render",p]]);export{E as __pageData,o as default};
